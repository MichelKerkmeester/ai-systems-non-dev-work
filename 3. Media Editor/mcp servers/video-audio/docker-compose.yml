version: "3.8"

services:
  video-audio:
    build: .
    image: video-audio:latest
    container_name: video-audio
    volumes:
      # Map only the videos directory (Original & New folders)
      - /Users/michelkerkmeester/MEGA/AI Systems/Media Editor/export/videos:/videos:rw

    environment:
      # Python and processing environment
      - PYTHONUNBUFFERED=1
      - NODE_ENV=production
      - VIDEO_PATH=/videos

    # Resource limits
    mem_limit: 2g
    cpus: 2

    # Keep container running
    stdin_open: true
    tty: true

    # Restart policy
    restart: unless-stopped
